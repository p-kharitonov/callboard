{% extends 'base.html' %}
{% load custom_filters %}


{% block content %}
    <div class="row">

            <div class="blog-post single-post">
                <h3>{{ post.title }}</h3>
                <div class="post-metas">
                    <div class="post-meta">{{ post.user.username }}</div>
                    <div class="post-meta"><a href="#">{{ post.category.name }}</a></div>
                    <div class="post-meta">{{ post.message_set.count|is_plural:"отклик,отклика,откликов" }}</div>
                </div>
                <div class="post-date">{{ post.created_at|date:'d M, Y' }}</div>
                <p>{{ post.content }}</p>
                <div class="popup-gallery">
                    {% for image in post.images %}
                    <a href="{{ image.path }}" title="{{ image.alt}} " class="position-relative">
                        <img src="{{ image.path }}" >
                        <svg width="40px" height="40px" viewBox="0 0 16 16" class="bi bi-image" fill="#10ddb4" xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd" d="M14.002 2h-12a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1zm-12-1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12z"/>
                          <path d="M10.648 7.646a.5.5 0 0 1 .577-.093L15.002 9.5V14h-14v-2l2.646-2.354a.5.5 0 0 1 .63-.062l2.66 1.773 3.71-3.71z"/>
                          <path fill-rule="evenodd" d="M4.502 7a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"/>
                        </svg>
                    </a>
                    {% endfor %}
                </div>
                <div class="popup-video">
                    {% for video in post.videos %}
                    <a class="popup-youtube position-relative" href="{{ video.url }}">
                        <img src="{% if video.code %}https://img.youtube.com/vi/{{ video.code }}/3.jpg {% else %} /media/theme/img/youtube.jpg {% endif %}" >
                        <svg width="40px" height="40px" viewBox="0 0 16 16" class="bi bi-film" fill="#10ddb4" xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd" d="M0 1a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V1zm4 0h8v6H4V1zm8 8H4v6h8V9zM1 1h2v2H1V1zm2 3H1v2h2V4zM1 7h2v2H1V7zm2 3H1v2h2v-2zm-2 3h2v2H1v-2zM15 1h-2v2h2V1zm-2 3h2v2h-2V4zm2 3h-2v2h2V7zm-2 3h2v2h-2v-2zm2 3h-2v2h2v-2z"/>
                        </svg>
                    </a>
                    {% endfor %}
                </div>
            </div>

    </div>

{% endblock content %}